SelfPublisher_IOS
=================

# 仕様

## 認証無しの時

- 章・節・文章という構成で、本を書ける
- 画像はカバー写真のみ指定出来るが、本文への挿入は不可
- 完成した本は発行できる
  * 文の情報をJSONで[SelfPublishAPI](https://github.com/mono0926/SelfPublishAPI)に送る
  * ePub形式のデータがレスポンスとして返ってくる
    - iBooksなど対応アプリがインストールされていると、そのアプリに切り替わって開ける
  * mobi形式のデータも受け取れる
    - Kindleアプリでそのまま開けるわけではない
    - Amazonで出版したい人はメールでデータを受け取るなどして、発行手続きは自分で行う必要がある
  
## Dropbox認証済み

画像など重めのデータはDropboxに頼る。

認証無しの時に比べて、以下の機能が追加される

- 画像をカバー写真以外でも、本文に自由に挿入できる
- アプリではDropboxのピッカーから挿入する画像を選択
- 画像のメタ情報のみサーバーに伝え、サーバーはそれを元にデータをダウンロードする仕組み
  * iPhoneとサーバーの直接の通信量が減り、アップロード処理が高速に
  * 重いデータのやりとりは、帯域の広いサーバー間で行える
  * レスポンスは時間差
- 発行されたデータはDropbox経由で受け渡す

### 調査済み項目

- [iOSからDropbox新APIのDrop-ins(Chooser)を使ってみる](http://mono0926.github.io/blog/2013/07/17/dropbox/)
  * 画像挿入時に使う予定
- [iOSからDropbox Sync APIを使ってみる](http://mono0926.github.io/blog/2013/07/19/dropbox/)
  * 使うかも
- [iOSからDropbox新APIのDatastore APIを使ってみる](http://mono0926.github.io/blog/2013/07/18/dropbox/)
  * 使わない予定
  
## Facebook認証済み

優先度低め

認証無しの時に比べて、以下の機能が追加される

- 発行した本がサーバーにたまる
  * 認証しないとアプリを消したら消失
  * 再ログインなどすると過去に発行した本が振ってくる
  * 将来的にWebアプリも作って、相互に編集出来るようになる
- 友達機能
  * 友達と本の交換(ePub形式)が可能
  * 未認証でもメール経由で可能だが、認証すると本一覧に入ってくる



## 無料版

- 広告バーが常に表示される
  * TODO: 集金モデル調査
    - 表示時間に比例するようなのがあると嬉しい
- ペーストできない

## 有料版

- 300円程度を予定
- 広告が非表示になる
- ストアでは無料版のみの配布で、アプリ内で課金すると広告が非表示になる
- エクスポート機能
  * markdown形式でテキスト出力可能
- 認証周りの機能解禁？
  * この制限はいらないかも

## マニュアル

- 本アプリあるいはサーバーの変換の下回りを用いて、マニュアルをしっかり書いてAmazonで配布
  * 単にアプリの使い方にとどまるなら無料で
  * 電子書籍ノウハウ的なことも織り交ぜてボリューム上げるなら100〜300円
  
# 検討事項

- エディター
  * UITextViewをペタッと貼り付ける程度からどこまで凝る？
  * 書体変更など必要？
- 画像と本文のデータの持ち方・画面の作り
- 全体的なデザイン
- Kindle形式の調査
  * [電子書籍自費出版系情報まとめ](http://mono0926.github.io/blog/2013/07/14/self-publish/)に少しまとめた
  * 縦書きのやり方がよく分からない
  * 目次
- kindlegenのライセンス大丈夫？
- 英語・日本語対応だけでよい？
- ロゴ
- プレスリリースを送るサイトリスト
- リリース日：9/20くらい目標だけど無理そう（´・ω・｀）
